var mpd=mdp||{app:{},util:{}};mdp.app.pinterest=function(){var t,h,g,p,o,d="slideshow",n=$("meta[name=mdp:contentType]").attr("content"),q="http://pinterest.com/pin/create/button/";function i(){b();r(null);l(k);s(j);}function b(){if(d=="slideshow"){$(".ssPrevArrow").click(function(){mdp.pinterest.refresh("prev");
});$(".ssNextArrow").click(function(){mdp.pinterest.refresh("next");});}}this.refresh=function(u){r(u);l(k);s(j);};function k(){e();a();c();t=q+"?url="+encodeURIComponent(h)+"&media="+encodeURIComponent(n)+"&description="+encodeURIComponent(g);}function s(u){$(".pinIt").each(function(){$(this).html('<a href="'+t+'" class="pin-it-button" count-layout="'+p+'">Pin It</a>');
});u();}function j(){$.ajax({url:"http://assets.pinterest.com/js/pinit.js",dataType:"script"});}function f(u){return parseInt(u.substr(u.indexOf("page=")).split("&")[0].split("=")[1]);}function r(x){var w=location.hash.substr(1),v=location.search.substr(1),u=(w)?f(w):f(v);if(isNaN(u)){u=1;}if($("#slideImg"+u).attr("sstype")=="lastslide"){o=(x==="prev")?u-1:1;
}else{if(x==="next"){o=u+1;}else{if(x==="prev"){o=u-1;}else{o=u;}}}}function e(){switch(d){case"story":p="none";break;default:p="horizontal";break;}}function l(v){var u=(location.hash)?"#":"?";h=location.protocol+"//"+location.host+location.pathname;if(o>1){h=h+u+"page="+o;}h=m(h);v();}function a(){var x=$(".photo"),w=$("#slideContent .imgColumn .imgColumnWell .slideImgWell #slideImg"+o+" .slideImgContainer img"),y=$(""),v=$("meta[property=og:image]"),u=$(".imgRight img"),z=$(".imgLeft img");
if(w.length>0){n=w.attr("src").toString();}else{if(y.length>0){n=y.attr("src").toString();}else{if(x.length>0){n=x.attr("src").toString();}else{if(v.length>0){n=v.attr("content").toString();}else{if(u.length>0){n=u.eq(0).attr("src").toString();}else{if(z.length>0){n=z.eq(0).attr("src").toString();}}}}}}n=m(n);
}function c(){var w=$("meta[property=og:title]"),v=$(".slideColumn #slide"+o+" .heading1"),u=$("title");if(v.length>0){g=v.text();}else{if(w.length>0){g=w.attr("content");}else{if(u.length>0){g=u.text();}}}g=g.replace(/[\s\n\r]+/g," ").trim();}function m(u){return u.replace(/(local.)|(dev.)|(test.)/g,"").trim();
}i();};$(document).ready(function(){mdp.pinterest=new mdp.app.pinterest();});